{"version":3,"sources":["config.js","api.js","components/TabPanel.js","LocationContext.js","Map.js","Table.js","DevExTable.js","components/SimpleTabs.js","pages/station/DeleteAlert.js","pages/station/HistoricMeasurements.js","pages/station/BearingGraph.js","pages/station/ActionArea.js","components/PejlingForm.js","pages/station/Station.js","LocationDrawer.js","App.js","reportWebVitals.js","index.js"],"names":["queries","getSensorLocation","getLocations","getTableData","getSingleElem","endpoint","testEndpoint","apiKey","getData","key","axios","get","insertMeasurement","stationId","formData","sql","timeofmeas","disttowatertable_m","useforcorrection","comment","updateMeasurement","columns","Object","keys","gid","updateString","filter","k","map","split","join","TabPanel","props","children","value","index","other","role","hidden","id","aria-labelledby","Box","p","LocationContext","createContext","style","width","height","stationIcon","L","icon","iconUrl","Map","context","useContext","mapRef","React","useRef","useEffect","current","kftoken","toposkaermkortwmts","tileLayer","wms","layers","token","format","attribution","kommuneWms","transparent","center","zoom","renderMap","remove","layerRef","featureGroup","addTo","clearLayers","data","features","forEach","element","point","properties","lat","long","marker","bindPopup","mouseover","on","_popup","document","getElementsByClassName","length","DomEvent","setLocationId","locid","setTabValue","onClickHandler","makeStyles","root","backgroundColor","color","fontWeight","LocationTypeProvider","formatterComponent","LocationFormatter","locationId","EditButton","IconButton","aria-label","onClick","e","RowDetail","row","List","ListItem","stationid","StatusCell","restProps","Cell","status","getStatusComp","column","name","TitleCell","Title","title","setLocation","goToTable","useState","setData","loading","setLoading","then","res","rows","s","station_loc_id","Paper","CircularProgress","for","defaultExpandedRowIds","cellComponent","titleComponent","contentComponent","useStyles","theme","flexGrow","palette","background","paper","SimpleTabs","locationContext","KortIcon","Tooltip","TableIcon","AppBar","position","Tabs","tabValue","onChange","event","newValue","variant","Tab","DevExTable","sensors","DeleteAlert","measurementId","dialogOpen","onOkDelete","setDialogOpen","setOpen","handleClose","Dialog","open","onClose","aria-describedby","DialogTitle","DialogActions","Button","autoFocus","table","minWidth","HistoricMeasurements","measurements","handleEdit","handleDelete","classes","setMeasurementId","Typography","gutterBottom","component","TableContainer","Table","className","TableHead","TableRow","TableCell","align","TableBody","scope","layout2","autosize","xaxis","rangeselector","buttons","step","stepmode","count","label","autorange","type","domain","yaxis","text","font","size","yaxis2","showgrid","overlaying","side","fixedrange","range","showlegend","legend","x","y","orientation","margin","l","r","b","t","pad","PlotGraph","graphData","controlData","setStationName","stationname","xData","d","yData","measurement","xControl","yControl","waterlevel","line","mode","symbol","layout","config","responsive","useResizeHandler","BearingGraph","setGraphData","setControlData","getGraphData","success","getControlData","marginBottom","border","appBar","top","bottom","appBar1","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","grow","fabButton","zIndex","left","right","ColorButton","withStyles","flexDirection","getContrastText","ActionArea","showForm","setShowForm","clsx","Toolbar","display","justifyContent","AddCircle","EditRounded","PhotoCameraRounded","PejlingForm","changeFormData","handleSubmit","resetFormData","handleDateChange","date","_date","toISOString","time","toTimeString","formatedTimestamp","utils","DateFnsUtils","locale","daLocale","Card","CardContent","container","spacing","item","xs","disableToolbar","inputVariant","KeyboardButtonProps","fullWidth","ampm","TextField","InputLabelProps","shrink","target","multiline","FormControl","FormLabel","RadioGroup","FormControlLabel","control","Radio","Station","Date","setFormData","updated","setUpdated","setMeasurements","getMeasurements","field","deleteMeasurement","menuButton","marginRight","hide","drawer","flexShrink","drawerPaper","drawerHeader","alignItems","padding","mixins","toolbar","content","contentShift","MyListItem","selected","LocationDrawer","useTheme","currStation","setCurrStation","stationList","setStationList","selectedItem","setSelectedItem","locId","statId","console","log","parseInt","getStations","stations","find","CssBaseline","edge","backButton","Drawer","anchor","direction","Divider","_station","button","ListItemText","primary","App","setSensors","userId","setStationId","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c558c1e4.chunk.js","sourcesContent":["const config = {\n  hostname: \"https://watsonc.admin.gc2.io\",\n  apiVersion: \"api/v2\",\n  sqlApi: \"sql/wastonc/?q=\",\n};\n\nconst testConfig = {\n  hostname: \"https://watsonc.admin.gc2.io\",\n  apiVersion: \"api/v2\",\n  sqlApi: \"sql/magloire@watsonc?q=\",\n};\n\nconst queries = {\n  getSensorLocation: \"select%20*%20from%20sensor.active_sensor_locations\",\n  getLocations: \"select%20*%20from%20sensor_test.active_sensor_locations\",\n  getTableData:\n    \"SELECT stationid,stationname,parameter,loc_owner,alarm,locid FROM sensor.sensordata_drift_v2&format=geojson\",\n  getSingleElem: \"SELECT * from sensor.sensordata_drift_v2 WHERE locid=354\",\n};\n\nconst testQueries = {\n  getSensorLocation: \"SELECT * from sensor_test.location&srs=3857\",\n  getTableData: \"SELECT * from sensor_test.station\",\n  getSingleElem: \"SELECT * from sensor_test.station WHERE locid=354\",\n};\n\nexport { config, queries, testConfig, testQueries };\n","import axios from \"axios\";\nimport { queries, testQueries } from \"./config\";\n\nconst endpoint = `https://watsonc.admin.gc2.io/api/v2/sql/watsonc/?q=`;\nconst testEndpoint = `https://watsonc.admin.gc2.io/api/v2/sql/magloire@watsonc?q=`;\nconst apiKey = \"&key=2a528b3bc396ca7f544b7b6a4bc52bb7\";\n\nconst getData = (key) => axios.get(`${testEndpoint}${queries[key]}`);\n\nconst getSensorData = () => getData(\"getLocations\");\n\nconst getTableData = () => getData(\"getTableData\"); //axios.get('data.json');\n\nconst getSingleElem = () => getData(\"getSingleElem\");\n\nconst getStations = (locid) => {\n  const sql = `${testEndpoint}SELECT * from sensor_test.station WHERE locid=${locid}`;\n  return axios.get(sql);\n};\n\nconst getControlData = (stationId) => {\n  const sql = `${endpoint}SELECT * FROM sensor.station_pejlinger WHERE stationid=${stationId} ORDER BY timeofmeas`;\n  return axios.get(sql);\n};\n\nconst getGraphData = (stationId) => {\n  const sql = `${endpoint}SELECT * FROM sensor.sensordata_view WHERE station=${stationId} ORDER BY timeofmeas DESC`;\n  return axios.get(sql);\n};\n\nconst insertMeasurement = (stationId, formData) => {\n  const sql = `${testEndpoint}INSERT INTO sensor_test.waterlevel (stationid,timeofmeas,disttowatertable_m,useforcorrection,comment)\n                      VALUES(${stationId},'${formData.timeofmeas}',${formData.disttowatertable_m},${formData.useforcorrection},'${formData.comment}')${apiKey}\n  `;\n  return axios.get(sql);\n};\n\nconst updateMeasurement = (stationId, formData) => {\n  const columns = Object.keys(formData);\n  const gid = formData.gid;\n  const updateString = columns\n    .filter((k) => k !== \"gid\" || k !== \"stationid\")\n    .map((k) => {\n      if (k === \"timeofmeas\") return `${k}='${formData[k].split(\"+\")[0]}'`;\n      return `${k}='${formData[k]}'`;\n    })\n    .join(\",\");\n\n  const sql = `${testEndpoint}UPDATE sensor_test.waterlevel SET ${updateString} WHERE gid = ${gid}${apiKey}`;\n  return axios.get(sql);\n};\n\nconst deleteMeasurement = (gid) => {\n  if (!gid) return;\n  const sql = `${testEndpoint}DELETE FROM sensor_test.waterlevel WHERE gid=${gid}${apiKey}`;\n  return axios.get(sql);\n};\n\nconst getMeasurements = (stationId) => {\n  const sql = `${testEndpoint}SELECT * FROM sensor_test.waterlevel WHERE stationid=${stationId} ORDER BY timeofmeas DESC`;\n  return axios.get(sql);\n};\n\nexport {\n  getSensorData,\n  getTableData,\n  getSingleElem,\n  getStations,\n  getMeasurements,\n  insertMeasurement,\n  updateMeasurement,\n  deleteMeasurement,\n  getControlData,\n  getGraphData,\n};\n","import React from 'react';\nimport Box from '@material-ui/core/Box';\n\nexport default function TabPanel(props){\n    const {children, value, index, ...other} = props;\n  \n    return (\n      <div\n        role=\"tabpanel\"\n        hidden={value !== index}\n        id={`simple-tabpanel-${index}`}\n        aria-labelledby={`simple-tab-${index}`}\n        {...other}\n        >\n          {\n            value === index && (\n              <Box p={3}>\n                {children}\n              </Box>\n            )\n          }\n        </div>\n    );\n  }","import {createContext} from 'react';\n\nconst LocationContext = createContext();\n\nexport default LocationContext;","import React, { useEffect, useContext } from \"react\";\nimport ReactDOMServer from \"react-dom/server\";\nimport ReactDOM from \"react-dom\";\nimport L from \"leaflet\";\nimport LocationContext from \"./LocationContext\";\n\nconst style = {\n  width: \"100%\",\n  height: \"1200px\",\n};\n\nlet stationIcon = L.icon({\n  iconUrl:\n    \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJMYWdfMSIgZGF0YS1uYW1lPSJMYWcgMSIgdmlld0JveD0iMCAwIDU1MC40NCA1NTEuNzQiIHdpZHRoPSI0MnB4IiBoZWlnaHQ9IjQycHgiPgogICAgICAgIDxkZWZzPgogICAgICAgICAgICA8c3R5bGU+CiAgICAgICAgICAgICAgICAuY2xzLTF7ZmlsbDojMDA1ODdhO30KICAgICAgICAgICAgICAgIC5jbHMtMSwuY2xzLTR7fQogICAgICAgICAgICAgICAgLmNscy0ye2ZpbGw6IzEzODBjNDt9CiAgICAgICAgICAgICAgICAuY2xzLTN7ZmlsbDojMTM4MGM0O30KICAgICAgICAgICAgICAgIC5jbHMtNHtmaWxsOm5vbmU7fQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIDwvZGVmcz4KICAgICAgICA8dGl0bGU+Q2lya2VsPC90aXRsZT4KICAgICAgICA8ZyBpZD0iTGFnXzEtMiIgZGF0YS1uYW1lPSJMYWcgMS0yIj4KICAgICAgICAgICAgPHBhdGggY2xhc3M9ImNscy0xIiBkPSJNNTQ1LjYsNDUxLjc2QzUzNi45MywyMTAuNTksMzQyLjYsMTUuMTksMTAxLjYsNWExNS44OCwxNS44OCwwLDAsMC0xNi41MiwxNS4yaDB2NDlhMTYuMjMsMTYuMjMsMCwwLDAsMTUuNTUsMTYuMTJjMTk3LjY4LDkuMjYsMzU2LjU4LDE2OS4xLDM2NC42MywzNjYuODdhMTYuMjUsMTYuMjUsMCwwLDAsMTYuMDYsMTUuNjJsNDguMjMuMzRhMTUuOTMsMTUuOTMsMCwwLDAsMTYuMDYtMTUuNzZoMEM1NDUuNjEsNDUyLjIxLDU0NS42MSw0NTIsNTQ1LjYsNDUxLjc2Wm0tMTU5LjYuNDNjLTktMTUzLjYxLTEzMi40MS0yNzcuNjEtMjg1Ljc5LTI4Ny41YTE1LjgxLDE1LjgxLDAsMCwwLTE2Ljc5LDE0Ljc3aDB2MS4xM0w4My41NiwyMjlhMTYuMzIsMTYuMzIsMCwwLDAsMTUsMTYuMmMxMTAuNjUsOC4zOCwxOTkuMTksOTcuNzEsMjA2Ljg5LDIwOC4xNWExNi4zLDE2LjMsMCwwLDAsMTYuMTEsMTUuMDhsNDguMzkuNDZBMTUuODIsMTUuODIsMCwwLDAsMzg2LDQ1My40di0xLjIxWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuMTcgLTAuMDMpIi8+CiAgICAgICAgICAgIDxjaXJjbGUgY2xhc3M9ImNscy0yIiBjeD0iMTE5LjgzIiBjeT0iNDMxLjc0IiByPSIxMTUiLz4KICAgICAgICA8L2c+CiAgICAgICAgPHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTIwLjE3LDU0Ni43N2MtNjMuNjYsMC0xMTUuMjYtNTEuNDktMTE1LjI2LTExNXM1MS42LTExNSwxMTUuMjYtMTE1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC4xNyAtMC4wMykiLz4KICAgICAgICA8Y2lyY2xlIGNsYXNzPSJjbHMtNCIgY3g9IjEyMCIgY3k9IjQzMS43NCIgcj0iMTE1Ii8+CiAgICA8L3N2Zz4=\",\n});\n\nfunction MarkerText(props) {\n  const { elem, text } = props;\n  return (\n    <button onClick={() => console.log(\"clicled: \", elem.properties.lat)}>\n      {text}\n    </button>\n  );\n}\n\nfunction Map(props) {\n  const context = useContext(LocationContext);\n  const mapRef = React.useRef(null);\n  const popupsRef = React.useRef([]);\n  const onPopupClick = (markerId) => {\n    alert(\"clicked popup \" + markerId);\n  };\n\n  const onClickHandler = (element) => () => {\n    let _popup = document.getElementsByClassName(\n      \"leaflet-popup-content-wrapper\"\n    );\n    if (_popup && _popup.length > 0) {\n      L.DomEvent.on(_popup[0], \"click\", () => {\n        context.setLocationId(element.properties.locid + \"_\");\n        context.setTabValue(1);\n      });\n    }\n  };\n\n  const renderMap = () => {\n    const myAttributionText =\n      '&copy; <a target=\"_blank\" href=\"https://download.kortforsyningen.dk/content/vilk%C3%A5r-og-betingelser\">Styrelsen for Dataforsyning og Effektivisering</a>';\n    const kftoken = \"d12107f70a3ee93153f313c7c502169a\";\n    const toposkaermkortwmts = L.tileLayer.wms(\n      \"https://services.kortforsyningen.dk/topo_skaermkort\",\n      {\n        layers: \"dtk_skaermkort_daempet\",\n        token: kftoken,\n        format: \"image/png\",\n        attribution: myAttributionText,\n      }\n    );\n\n    const kommuneWms = L.tileLayer.wms(\n      \"https://services.kortforsyningen.dk/service?request=GetCapabilities&servicename=dagi\" +\n        \"&service=WMS&version=1.1.1\",\n      {\n        layers: \"kommune\",\n        format: \"image/png\",\n        token: kftoken,\n        transparent: true,\n      }\n    );\n\n    return L.map(\"map\", {\n      center: [55.876823, 8.961644],\n      zoom: 8,\n      layers: [toposkaermkortwmts, kommuneWms],\n    });\n  };\n\n  const renderFeatures = (data) => {\n    if (data) {\n      data.forEach((element) => {\n        const marker = L.marker(\n          [element.properties.lat, element.properties.long],\n          {\n            icon: stationIcon,\n          }\n        ).bindPopup(element.properties.mouseover);\n        const popup = marker.getPopup();\n        popupsRef.current.push(popup);\n        popup.on(\"click\", () => onPopupClick(element.properties.lat));\n        marker.addTo(layerRef.current);\n      });\n    }\n  };\n\n  useEffect(() => {\n    mapRef.current = renderMap();\n    return () => {\n      if (mapRef.current) {\n        mapRef.current.remove();\n      }\n    };\n  }, []);\n\n  const layerRef = React.useRef(null);\n\n  useEffect(() => {\n    layerRef.current = L.featureGroup().addTo(mapRef.current);\n  }, []);\n\n  useEffect(() => {\n    layerRef.current.clearLayers();\n    const data = props.data.features;\n    if (data) {\n      data.forEach((element) => {\n        const point = [element.properties.lat, element.properties.long];\n        const marker = L.marker(point, {\n          icon: stationIcon,\n        }).bindPopup(element.properties.mouseover);\n        marker.on(\"click\", onClickHandler(element));\n        marker.addTo(layerRef.current);\n      });\n    }\n  }, [props.data.features]);\n\n  return <div id='map' style={style}></div>;\n}\n\nexport default Map;\n","import React, { useEffect, useState } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Paper from '@material-ui/core/Paper';\nimport clsx from 'clsx';\nimport { getTableData } from './api';\n\nconst columns = [\n    {field: 'stationname', headerName:'Stationsnavn', width:200},\n    {field:'parameter', headerName:'Parameter', width:200},\n    {field:'loc_owner', headerName:'Ejer', width: 200},\n    {\n        field:'alarm', \n        headerName:'Alarm', \n        width:200,\n        cellClassName:(params) => \n            clsx('sensor-app', {\n                negative: params.value === '!',\n                positive: params.value === 'OK'\n            })\n    }\n];\n\nconst useStyles = makeStyles({\n    root:{\n        '& .sensor-app.negative':{\n            backgroundColor: '#d47483',\n            color: '#1a3e72',\n            fontWeight: '600',\n        },\n        '& .sensor-app.positive': {\n            backgroundColor: 'rgba(157, 255, 118, 0.49)',\n            color: '#1a3e72',\n            fontWeight: '600'\n        }\n    }\n});\n\nexport default function Grid(props){\n    const classes = useStyles();\n    const [data, setData] = useState([]);\n    useEffect(()=>{\n        getTableData()\n        .then(res =>{\n            setData(res.data.features);\n            console.log(res.data.features);\n        });\n    },[]);\n    \n    let rows = data.map((s,index) => {\n        let properties = s.properties;\n        properties.id = index;\n        return properties;\n    });\n    \n    return (\n            <Paper>\n        <div style={{height:1000, width:'100%'}} className={classes.root}>\n            {\n                data.length > 0 \n                        ? <DataGrid rows={rows} columns={columns}  />\n                        : <CircularProgress />\n            }\n            {\n               // data.length === 0 && <CircularProgress />\n            }\n\n            \n        </div>\n            </Paper>\n    );\n}","import React, { useState, useEffect, useContext } from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PriorityHighIcon from \"@material-ui/icons/PriorityHigh\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { DataTypeProvider } from \"@devexpress/dx-react-grid\";\nimport {\n  Grid,\n  VirtualTable,\n  TableHeaderRow,\n  TableRowDetail,\n} from \"@devexpress/dx-react-grid-material-ui\";\nimport { RowDetailState } from \"@devexpress/dx-react-grid\";\nimport { getTableData } from \"./api\";\nimport LocationContext from \"./LocationContext\";\n\nconst LocationTypeProvider = (props) => (\n  <DataTypeProvider formatterComponent={LocationFormatter} {...props} />\n);\n\nconst LocationFormatter = ({ value }) => <EditButton locationId={value} />;\n\nconst showDetails = (loc) => alert(loc);\n\nconst EditButton = ({ locationId }) => {\n  const context = useContext(LocationContext);\n  return (\n    <IconButton\n      aria-label='Edit'\n      onClick={(e) => {\n        context.setLocationId(locationId);\n        context.setTabValue(0);\n      }}\n    >\n      <EditIcon />\n    </IconButton>\n  );\n};\n\nconst RowDetail = ({ row }) => (\n  <List>\n    <ListItem>\n      <b>Location ID: </b>\n      {row.locid}\n    </ListItem>\n    <ListItem>\n      <b>Station ID: </b>\n      {row.stationid}\n    </ListItem>\n  </List>\n);\n\nconst getBackgroundColor = (status) => {\n  switch (status) {\n    case \"OK\":\n      return \"rgba(157, 255, 118, 0.49)\";\n    case \"!\":\n      return \"#d47483\";\n    default:\n      return \"\";\n  }\n};\n\nconst getStatusComp = (status) => {\n  switch (status) {\n    case \"!\":\n      return <PriorityHighIcon color='secondary' />;\n    case \"OK\":\n      return <CheckCircleIcon style={{ color: \"mediumseagreen\" }} />;\n    default:\n      return \"\";\n  }\n};\n\nconst StatusCell = ({ value, style, ...restProps }) => (\n  <VirtualTable.Cell {...restProps}>{getStatusComp(value)}</VirtualTable.Cell>\n);\n\nconst Cell = (props) => {\n  const { column } = props;\n  if (column.name === \"alarm\") {\n    return <StatusCell {...props} />;\n  }\n  return <VirtualTable.Cell {...props} />;\n};\n\nconst TitleCell = (props) => {\n  const { children } = props;\n  if (children === \"Redigere\") {\n    return \"\";\n  }\n  return <TableHeaderRow.Title {...props} />;\n};\n\nconst columns = [\n  { name: \"station_loc_id\", title: \"Redigere\", width: 50 },\n  { name: \"stationname\", title: \"Stationsnavn\", width: 200 },\n  { name: \"parameter\", title: \"Parameter\", width: 200 },\n  { name: \"loc_owner\", title: \"Ejer\", width: 200 },\n  {\n    name: \"alarm\",\n    title: \"Alarm\",\n    width: 200,\n  },\n];\n\nexport default ({ setLocation, goToTable }) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    getTableData().then((res) => {\n      setLoading(false);\n      setData(res.data.features);\n    });\n  }, []);\n\n  let rows = data.map((s, index) => ({\n    ...s.properties,\n    station_loc_id: s.properties.locid + \"_\" + s.properties.stationid,\n    id: index,\n  }));\n\n  return (\n    <Paper>\n      {loading && <CircularProgress />}\n      <Grid rows={rows} columns={columns} style={{ height: 1200 }}>\n        <LocationTypeProvider for={[\"station_loc_id\"]} goToTable={goToTable} />\n        <RowDetailState defaultExpandedRowIds={[]} />\n        <VirtualTable height={1200} cellComponent={Cell} />\n        <TableHeaderRow titleComponent={TitleCell} />\n        <TableRowDetail contentComponent={RowDetail} />\n      </Grid>\n    </Paper>\n  );\n};\n","import React, { useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport MapIcon from \"@material-ui/icons/Map\";\nimport TableChart from \"@material-ui/icons/TableChart\";\nimport TabPanel from \"./TabPanel\";\nimport Map from \"../Map\";\nimport Table from \"../Table\";\nimport DevExTable from \"../DevExTable\";\nimport LocationContext from \"../LocationContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nexport default function SimpleTabs(props) {\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const locationContext = useContext(LocationContext);\n\n  const handleChange = (event, newValue) => {\n    //setValue(newValue);\n    locationContext.setTabValue(newValue);\n  };\n\n  const goToMap = () => setValue(1);\n  const goToTable = () => setValue(0);\n\n  const KortIcon = (\n    <Tooltip title='Kort'>\n      <MapIcon />\n    </Tooltip>\n  );\n\n  const TableIcon = (\n    <Tooltip title='Tabel'>\n      <TableChart />\n    </Tooltip>\n  );\n\n  return (\n    <div>\n      <AppBar position='static' style={{ backgroundColor: \"lightseagreen\" }}>\n        <Tabs\n          value={locationContext.tabValue}\n          onChange={handleChange}\n          variant='fullWidth'\n          aria-label='simple tabs example'\n        >\n          <Tab icon={TableIcon} />\n          <Tab icon={KortIcon} />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={locationContext.tabValue} index={0}>\n        <DevExTable {...props} />\n      </TabPanel>\n      <TabPanel value={locationContext.tabValue} index={1}>\n        <Map data={props.sensors} />\n      </TabPanel>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nexport default function DeleteAlert({\n  measurementId,\n  dialogOpen,\n  onOkDelete,\n  setDialogOpen,\n}) {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n    setDialogOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setDialogOpen(false);\n  };\n\n  const handleOk = () => {\n    onOkDelete(measurementId);\n    setDialogOpen(false);\n  };\n\n  return (\n    <div>\n      <Dialog\n        open={dialogOpen}\n        onClose={handleClose}\n        aria-labelledby='alert-dialog-title'\n        aria-describedby='alert-dialog-description'\n      >\n        <DialogTitle id='alert-dialog-title'>\n          {\"Vil du slette den række?\"}\n        </DialogTitle>\n\n        <DialogActions>\n          <Button onClick={handleClose} color='primary'>\n            Nej\n          </Button>\n          <Button onClick={handleOk} color='primary' autoFocus>\n            Ja\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { Typography } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport DeleteAlert from \"./DeleteAlert\";\nimport LocationContext from \"../../LocationContext\";\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nexport default function HistoricMeasurements({\n  measurements,\n  handleEdit,\n  handleDelete,\n}) {\n  const classes = useStyles();\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [measurementId, setMeasurementId] = useState(-1);\n  const context = useContext(LocationContext);\n\n  const onDeleteBtnClick = (id) => {\n    setMeasurementId(id);\n    setDialogOpen(true);\n  };\n\n  const deleteRow = (id) => {\n    handleDelete(id);\n  };\n\n  return (\n    <>\n      <DeleteAlert\n        measurementId={measurementId}\n        dialogOpen={dialogOpen}\n        setDialogOpen={setDialogOpen}\n        onOkDelete={deleteRow}\n      />\n      <Typography gutterBottom variant='h5' component='h2'>\n        Tidligere pejlinger\n      </Typography>\n      <TableContainer>\n        <Table className={classes.table} aria-label='simple table'>\n          <TableHead>\n            <TableRow>\n              <TableCell>Dato</TableCell>\n              <TableCell align='right'>Pejling</TableCell>\n              <TableCell align='right'>Anvendelse</TableCell>\n              <TableCell align='right'>Kommentar</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {measurements.map((row, index) => (\n              <TableRow key={index}>\n                <TableCell component='th' scope='row'>\n                  {row.properties.timeofmeas}\n                </TableCell>\n                <TableCell align='right'>\n                  {row.properties.disttowatertable_m}\n                </TableCell>\n                <TableCell align='right'>\n                  {row.properties.useforcorrection}\n                </TableCell>\n                <TableCell align='right'>{row.properties.comment}</TableCell>\n                <TableCell align='right'>\n                  <Button onClick={() => handleEdit(row.properties)}>\n                    Edit\n                  </Button>\n                </TableCell>\n                <TableCell align='right'>\n                  <Button\n                    onClick={() => {\n                      onDeleteBtnClick(row.properties.gid);\n                    }}\n                  >\n                    Delete\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Plot from \"react-plotly.js\";\nimport { getGraphData, getControlData } from \"../../api\";\n\nconst selectorOptions = {\n  buttons: [\n    {\n      step: \"day\",\n      stepmode: \"backward\",\n      count: 1,\n      label: \"1 dag\",\n    },\n    {\n      step: \"day\",\n      stepmode: \"backward\",\n      count: 7,\n      label: \"1 uge\",\n    },\n    {\n      step: \"month\",\n      stepmode: \"backward\",\n      count: 1,\n      label: \"1 måned\",\n    },\n    {\n      step: \"year\",\n      stepmode: \"backward\",\n      count: 1,\n      label: \"1 år\",\n    },\n  ],\n};\n\nconst layout2 = {\n  autosize: true,\n  xaxis: {\n    rangeselector: selectorOptions,\n    autorange: true,\n    type: \"date\",\n    domain: [0, 0.97],\n  },\n  yaxis: {\n    title: {\n      text: \"Vandstand, kote [m]\",\n      font: { size: 14 },\n    },\n  },\n  yaxis2: {\n    showgrid: false,\n    overlaying: \"y1\",\n    side: \"right\",\n    fixedrange: true,\n    range: [0, 15],\n    position: 0.97,\n    title: {\n      text: \"Nedbør [mm]\",\n      font: { size: 14 },\n    },\n  },\n\n  showlegend: true,\n  legend: {\n    x: 0,\n    y: -0.15,\n    orientation: \"h\",\n  },\n  margin: {\n    l: 70,\n    r: 20,\n    b: 50,\n    t: 10,\n    pad: 4,\n  },\n  font: {\n    size: 14,\n    color: \"rgb(0, 0, 0)\",\n  },\n};\n\nfunction PlotGraph({ graphData, controlData }) {\n  // console.log(graphData);\n  const [stationName, setStationName] = useState(\"stationnavn\");\n  const name = graphData[0] ? graphData[0].properties.stationname : \"\";\n  const xData = graphData.map((d) => d.properties.timeofmeas);\n  const yData = graphData.map((d) => d.properties.measurement);\n  const xControl = controlData.map((d) => d.properties.timeofmeas);\n  const yControl = controlData.map((d) => d.properties.waterlevel);\n\n  useEffect(() => {\n    if (graphData[0]) setStationName(graphData[0].properties.stationname);\n  }, [graphData]);\n\n  return (\n    <Plot\n      data={[\n        {\n          x: xData,\n          y: yData,\n          name: name,\n          type: \"scattergl\",\n          line: { width: 1 },\n          mode: \"lines+markers\",\n          marker: { symbol: \"100\", size: \"4\" },\n          marker: {\n            color: \"rgb(44,160,44)\",\n          },\n        },\n        {\n          x: xControl,\n          y: yControl,\n          name: \"Kontrolpejlinger\",\n          type: \"scatter\",\n          mode: \"markers\",\n          marker: {\n            symbol: \"200\",\n            size: \"12\",\n            color: \"hex#FF0000\",\n            line: { color: \"rgb(0,0,255)\", width: 1 },\n          },\n        },\n      ]}\n      layout={layout2}\n      config={{ responsive: true }}\n      useResizeHandler={true}\n      style={{ width: \"100%\", height: \"100%\" }}\n    />\n  );\n}\n\nexport default function BearingGraph({ stationId }) {\n  const [graphData, setGraphData] = useState([]);\n  const [controlData, setControlData] = useState([]);\n\n  useEffect(() => {\n    getGraphData(stationId).then((res) => {\n      if (res.data.success) {\n        setGraphData(res.data.features);\n      }\n    });\n  }, [stationId]);\n\n  useEffect(() => {\n    getControlData(stationId).then((res) => {\n      if (res.data.success) {\n        setControlData(res.data.features);\n      }\n    });\n  }, [stationId]);\n\n  return (\n    <div\n      style={{\n        width: \"auto\",\n        height: \"500px\",\n        marginBottom: \"20px\",\n        border: \"2px solid gray\",\n      }}\n    >\n      <PlotGraph graphData={graphData} controlData={controlData} />\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport clsx from \"clsx\";\nimport { AddCircle, EditRounded, PhotoCameraRounded } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    top: \"auto\",\n    bottom: 0,\n  },\n  appBar1: {\n    top: \"auto\",\n    bottom: 0,\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - 240px)`,\n    marginLeft: 240,\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  fabButton: {\n    position: \"absolute\",\n    zIndex: 1,\n    top: -30,\n    left: 0,\n    right: 0,\n    margin: \"0 auto\",\n  },\n}));\n\nconst IconButtonWithText = withStyles({\n  color: \"#ffa137\",\n  label: {\n    flexDirection: \"column\",\n  },\n})(Button);\n\nconst ColorButton = withStyles((theme) => ({\n  root: {\n    color: theme.palette.getContrastText(\"#ffa137\"),\n    backgroundColor: \"#ffa137\",\n    \"&:hover\": {\n      backgroundColor: \"#ffa137\",\n    },\n  },\n}))(Button);\n\nexport default function ActionArea({ showForm, setShowForm, open }) {\n  const classes = useStyles();\n  const [openDialog, setOpenDialog] = useState(false);\n\n  return (\n    <>\n      <AppBar\n        position='fixed'\n        color='inherit'\n        className={clsx(classes.appBar1, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <ColorButton\n            onClick={(e) => {\n              setShowForm(true);\n            }}\n          >\n            <AddCircle />\n            Indberet pejling\n          </ColorButton>\n          <ColorButton>\n            <EditRounded />\n            Ret stamdata\n          </ColorButton>\n          <ColorButton>\n            <PhotoCameraRounded />\n            Tag billede\n          </ColorButton>\n        </Toolbar>\n      </AppBar>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport {\n  Container,\n  Grid,\n  Typography,\n  TextField,\n  Button,\n  Card,\n  CardContent,\n  CardActions,\n  Radio,\n  RadioGroup,\n  FormControlLabel,\n  FormControl,\n  FormLabel,\n} from \"@material-ui/core\";\nimport \"date-fns\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport daLocale from \"date-fns/locale/da\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\n\nexport default function PejlingForm({\n  stationId,\n  setShowForm,\n  formData,\n  changeFormData,\n  handleSubmit,\n  resetFormData,\n}) {\n  const handleUsageChange = (e) => {\n    changeFormData(\"useforcorrection\", e.target.value);\n  };\n\n  const formatedTimestamp = (d) => {\n    const date = d.toISOString().split(\"T\")[0];\n    const time = d.toTimeString().split(\" \")[0];\n    return `${date} ${time}`;\n  };\n\n  const handleDateChange = (date) => {\n    const _date = formatedTimestamp(date);\n    //alert(_date);\n    changeFormData(\"timeofmeas\", _date);\n  };\n\n  const handleCommentChange = (e) => {\n    changeFormData(\"comment\", e.target.value);\n  };\n\n  const handleDistanceChange = (e) => {\n    changeFormData(\"disttowatertable_m\", e.target.value);\n  };\n\n  const handleSave = () => {\n    setShowForm(false);\n  };\n\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils} locale={daLocale}>\n      <Card style={{ marginBottom: 25 }}>\n        <CardContent>\n          <Typography gutterBottom variant='h5' component='h2'>\n            Indberet pejling\n          </Typography>\n          <Grid container spacing={3}>\n            <Grid item xs={6}>\n              <KeyboardDatePicker\n                disableToolbar\n                variant='inline'\n                inputVariant='outlined'\n                format='yyyy-MM-dd'\n                margin='normal'\n                id='date-picker-inline'\n                label={\n                  <Typography variant='h6' component='h3'>\n                    Dato\n                  </Typography>\n                }\n                value={formData.timeofmeas}\n                onChange={handleDateChange}\n                KeyboardButtonProps={{\n                  \"aria-label\": \"change date\",\n                }}\n                fullWidth\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <KeyboardTimePicker\n                inputVariant='outlined'\n                margin='normal'\n                id='overnat_start_tid'\n                label={\n                  <Typography variant='h6' component='h3'>\n                    Tidspunkt\n                  </Typography>\n                }\n                value={formData.timeofmeas}\n                onChange={handleDateChange}\n                KeyboardButtonProps={{\n                  \"aria-label\": \"change time\",\n                }}\n                fullWidth\n                ampm={false}\n              />\n            </Grid>\n            <Grid item xs={8}>\n              <TextField\n                type='number'\n                variant='outlined'\n                label={\n                  <Typography variant='h6' component='h3'>\n                    pejling\n                  </Typography>\n                }\n                InputLabelProps={{ shrink: true }}\n                fullWidth\n                value={formData.disttowatertable_m}\n                onChange={handleDistanceChange}\n              />\n            </Grid>\n            <Grid item xs={4}>\n              <Typography>Afstand fra pejlpunktskote til vandspejl</Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                label={\n                  <Typography variant='h6' component='h3'>\n                    Kommentar\n                  </Typography>\n                }\n                value={formData.comment}\n                variant='outlined'\n                multiline\n                rows={4}\n                InputLabelProps={{ shrink: true }}\n                fullWidth\n                onChange={handleCommentChange}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <FormControl component='fieldset'>\n                <FormLabel component='h6'>\n                  Hvordan skal pejlingen anvendes?\n                </FormLabel>\n                <RadioGroup\n                  value={formData.useforcorrection + \"\"}\n                  onChange={handleUsageChange}\n                >\n                  <FormControlLabel\n                    value='0'\n                    control={<Radio />}\n                    label='(0) Anvendes ikke'\n                  />\n                  <FormControlLabel\n                    value='1'\n                    control={<Radio />}\n                    label='(1) Anvendes til korrektion fremadrettet'\n                  />\n                  <FormControlLabel\n                    value='2'\n                    control={<Radio />}\n                    label='(2) Anvendes til korrektion bagud og fremadrettet'\n                  />\n                </RadioGroup>\n              </FormControl>\n            </Grid>\n            <Grid item xs={4}></Grid>\n            <Grid item xs={2}>\n              <Button\n                autoFocus\n                style={{ backgroundColor: \"#ffa137\" }}\n                onClick={() => handleSubmit(stationId)}\n              >\n                Gem\n              </Button>\n            </Grid>\n            <Grid item xs={2}>\n              <Button\n                autoFocus\n                style={{ backgroundColor: \"#ffa137\" }}\n                onClick={resetFormData}\n              >\n                Annullere\n              </Button>\n            </Grid>\n            <Grid item xs={4}></Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n    </MuiPickersUtilsProvider>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport HistoricMeasurements from \"./HistoricMeasurements\";\nimport BearingGraph from \"./BearingGraph\";\nimport ActionArea from \"./ActionArea\";\nimport PejlingForm from \"../../components/PejlingForm\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {\n  insertMeasurement,\n  updateMeasurement,\n  deleteMeasurement,\n  getMeasurements,\n} from \"../../api\";\nimport { Toolbar } from \"@material-ui/core\";\n\nfunction formatedTimestamp(d) {\n  const date = d.toISOString().split(\"T\")[0];\n  const time = d.toTimeString().split(\" \")[0];\n  return `${date} ${time}`;\n}\n\nexport default function Station({ stationId, showForm, setShowForm, open }) {\n  const [formData, setFormData] = useState({\n    gid: -1,\n    timeofmeas: formatedTimestamp(new Date()),\n    disttowatertable_m: 0,\n    useforcorrection: 0,\n    comment: \"\",\n  });\n\n  const [updated, setUpdated] = useState(new Date());\n  const [measurements, setMeasurements] = useState([]);\n\n  useEffect(() => {\n    getMeasurements(stationId).then((res) => {\n      setMeasurements(res.data.features);\n    });\n  }, [updated, stationId]);\n\n  const changeFormData = (field, value) => {\n    setFormData({\n      ...formData,\n      [field]: value,\n    });\n  };\n\n  const resetFormData = () => {\n    setFormData({\n      gid: -1,\n      timeofmeas: formatedTimestamp(new Date()),\n      disttowatertable_m: 0,\n      useforcorrection: 0,\n      comment: \"\",\n    });\n\n    setShowForm(false);\n  };\n\n  const isPut = () => formData.gid !== -1;\n\n  const handleSubmit = (stationId) => {\n    setShowForm(false);\n    const method = isPut() ? updateMeasurement : insertMeasurement;\n    method(stationId, formData).then((res) => {\n      resetFormData();\n      setUpdated(new Date());\n    });\n  };\n\n  const handleEdit = (data) => {\n    setFormData(data); // Fill form data on Edit\n    setShowForm(true); // update to use state machine\n    setUpdated(new Date());\n  };\n\n  const handleDelete = (gid) => {\n    deleteMeasurement(gid).then((res) => {\n      resetFormData();\n      setUpdated(new Date());\n    });\n  };\n\n  return (\n    <>\n      <Paper>\n        {stationId !== -1 && <BearingGraph stationId={stationId} />}\n        <Grid item xs={12}></Grid>\n        <Grid item xs={12}></Grid>\n        {showForm && (\n          <PejlingForm\n            stationId={stationId}\n            setShowForm={setShowForm}\n            formData={formData}\n            changeFormData={changeFormData}\n            handleSubmit={handleSubmit}\n            resetFormData={resetFormData}\n          />\n        )}\n        <HistoricMeasurements\n          measurements={measurements}\n          updated={updated}\n          stationId={stationId}\n          handleEdit={handleEdit}\n          handleDelete={handleDelete}\n        />\n        <Toolbar />\n        <ActionArea\n          open={open}\n          stationId={stationId}\n          showForm={showForm}\n          setShowForm={setShowForm}\n        />\n      </Paper>\n    </>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles, useTheme, withStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport KeyboardBackspaceIcon from \"@material-ui/icons/KeyboardBackspace\";\nimport LocationContext from \"./LocationContext\";\nimport Station from \"./pages/station\";\nimport { getStations } from \"./api\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  appBar: {\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: \"none\",\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: \"flex-end\",\n  },\n  title: {\n    flexGrow: 1,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n}));\n\nconst MyListItem = withStyles({\n  root: {\n    \"&$selected\": {\n      backgroundColor: \"lightseagreen\",\n      color: \"white\",\n    },\n  },\n  selected: {},\n})(ListItem);\n\nexport default function LocationDrawer() {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [currStation, setCurrStation] = useState(null);\n  const [stationList, setStationList] = useState([]);\n  const [selectedItem, setSelectedItem] = useState(-1);\n  const context = useContext(LocationContext);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const currentStation = (id, stations) => {\n    if (stations.length === 0) return null;\n    return stations.find((s) => s.properties.stationid + \"\" === id);\n    //console.log(\"current station id =>\", id);\n    //return stations[0];\n  };\n\n  const getSelectedItem = () => {\n    if (selectedItem !== -1) return selectedItem;\n    return currStation ? currStation.properties.stationid : -1;\n  };\n\n  useEffect(() => {\n    let [locId, statId] = context.locationId.split(\"_\");\n    console.log(\"loc_stat_id : \", statId, \"---\", locId);\n    if (statId) {\n      //if location is set from the map, stationId is not known\n      setSelectedItem(parseInt(statId));\n    }\n    getStations(locId).then((res) => {\n      if (!statId) {\n        statId = res.data.features[0].properties.stationid;\n        console.log(\"selecteditem =>\", parseInt(statId));\n        setSelectedItem(parseInt(statId));\n      }\n      setCurrStation(currentStation(statId, res.data.features));\n      setStationList(res.data.features);\n      console.log(res.data.features);\n    });\n  }, [context.locationId]);\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position='fixed'\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n        style={{ backgroundColor: \"lightseagreen\" }}\n      >\n        <Toolbar>\n          <IconButton\n            color='inherit'\n            aria-label='open drawer'\n            onClick={handleDrawerOpen}\n            edge='start'\n            className={clsx(classes.menuButton, open && classes.hide)}\n          >\n            <MenuIcon style={{ color: \"#ffa137\" }} />\n          </IconButton>\n          <Typography variant='h6' className={classes.title}>\n            {currStation && currStation.properties.stationname}\n          </Typography>\n          <IconButton\n            className={classes.backButton}\n            color='inherit'\n            onClick={(e) => context.setLocationId(-1)}\n          >\n            <KeyboardBackspaceIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        variant='persistent'\n        anchor='left'\n        open={open}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n      >\n        <div className={classes.drawerHeader}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === \"ltr\" ? (\n              <ChevronLeftIcon />\n            ) : (\n              <ChevronRightIcon />\n            )}\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          {stationList.map((_station, index) => (\n            <MyListItem\n              key={_station.properties.stationid}\n              button\n              key={_station.properties.stationid}\n              onClick={() => {\n                setSelectedItem(_station.properties.stationid);\n                setCurrStation(_station);\n                //setOpen(false);\n              }}\n              selected={_station.properties.stationid === selectedItem}\n            >\n              <ListItemText primary={_station.properties.stationname} />\n            </MyListItem>\n          ))}\n        </List>\n        <Divider />\n      </Drawer>\n      <main\n        className={clsx(classes.content, {\n          [classes.contentShift]: open,\n        })}\n      >\n        <div className={classes.drawerHeader} />\n        <Station\n          open={open}\n          stationId={getSelectedItem()}\n          showForm={showForm}\n          setShowForm={setShowForm}\n        />\n      </main>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { getSensorData } from \"./api\";\nimport SimpleTabs from \"./components/SimpleTabs\";\nimport LocationDrawer from \"./LocationDrawer\";\nimport LocationContext from \"./LocationContext\";\n\n/*\nLibraries to explore for this app:\n- react-query => for http requests instead of fetch, \n- hapi/joy => schema validation (joy.dev)\n- react/route or reach-router\n*/\n\nfunction App() {\n  const [sensors, setSensors] = useState([]);\n  const [userId, setUserId] = useState(0);\n  const [locationId, setLocationId] = useState(-1);\n  const [stationId, setStationId] = useState(-1);\n  const [tabValue, setTabValue] = useState(0);\n\n  useEffect(() => {\n    getSensorData().then((res) => {\n      setSensors(res.data);\n    });\n  }, [userId]);\n\n  return (\n    <LocationContext.Provider\n      value={{\n        locationId,\n        setLocationId,\n        stationId,\n        setStationId,\n        tabValue,\n        setTabValue,\n      }}\n    >\n      <div className='App'>\n        {locationId === -1 ? (\n          <SimpleTabs sensors={sensors} />\n        ) : (\n          <LocationDrawer />\n        )}\n      </div>\n    </LocationContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}